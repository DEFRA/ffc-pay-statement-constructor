asyncapi: 2.4.0
info:
  title: FFC Payment Statement Constructor
  version: '1.0.0'
  description: Construct data for Payment Statements
channels:
  return/message:
    subscribe:
      message:
        $ref: '#/components/messages/ReturnMessage'
components:
  messages:
    ReturnMessage:
      name: Return Message
      contentType: application/json
      payload:
        $ref: '#/components/schemas/ReturnMessage'
  schemas:
    ReturnMessage:
      type: object
      required:
      - sourceSystem
      - invoiceNumber
      - frn
      - currency
      - value
      - settlementDate
      - reference 
      - settled
      properties:
        sourceSystem:
          $ref: '#/components/schemas/SourceSystem'
        invoiceNumber:
          $ref: '#/components/schemas/InvoiceNumber'
        frn:
          $ref: '#/components/schemas/FRN'
        currency:
          $ref: '#/components/schemas/Currency'
        value:
          $ref: '#/components/schemas/Value'
        settlementDate:
          $ref: '#/components/schemas/SettlementDate'
        reference:
          $ref: '#/components/schemas/Reference'
        settled:
          $ref: '#/components/schemas/Settled'
    SourceSystem:
      type: string
      description: System identifier request originates from
      example: SITIAgri
    InvoiceNumber:
      type: string
      description: Invoice number 
      example: S123456789A123456V005
    FRN:
      type: number
      description: Firm Reference Number
      minimum: 1000000000
      maximum: 9999999999
      example: 1234567890
    Currency:
      type: string
      description: The currency of the value
      example: GBP
    Value:
      type: integer
      description: The value in pence
      example: 10000
    SettlementDate:
      type: string
      description: Date of settlement
      example: Fri Jan 21 2022 10:38:44 GMT+0000 (Greenwich Mean Time)
    Reference:
      type: string
      description: Settlement reference of payment request
      example: PY1234567
    Settled:
      type: boolean
      description: Whether the return file has been settled or not
    